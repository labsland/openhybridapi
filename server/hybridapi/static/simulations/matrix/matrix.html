<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>LED Matrix</title>
    
    <script src="iframeResizer.contentWindow.min.js"></script>

  </head>

  <body>
    <div class="container-fluid">
        <div>
            <img src="static/resources/images/Project_Butterfly.png" height=100px style="float:left;">
            <p id="protocol"></p><p id="sim2web"></p>
        </div>
        
        <script src="matrix.js"></script>
    </div>

    <script>
        var params = new URLSearchParams(window.location.search);
        window.DEVICE_ID = params.get('device');
        if (window.DEVICE_ID !== "fpga-de1-soc" && window.DEVICE_ID !== "fpga-de2-115" && window.DEVICE_ID !== "stm32-wb55rg") {
            window.DEVICE_ID = "fpga-de1-soc";
        }

        if (window.DEVICE_ID == "fpga-de1-soc") {
            $("#device-info").attr("src", "static/resources/images/de1_pinout_info.png");
        } else if (window.DEVICE_ID == "stm32-wb55rg") {
            $("#device-info").attr("src", "static/resources/images/stm32_wb55rg_pinout.jpg");
            $("#device-info").attr("width", "700px");

        }

        function injectScript(src) {
            var def = $.Deferred();
            var head=document.getElementsByTagName('head')[0];
            var script=document.createElement('script');
            script.type= 'text/javascript';
            script.onreadystatechange= function () {
                if (this.readyState == 'complete') {
                    //trace("readystate: " + src);
                    def.resolve();
                }
            }
            script.onload = function() {
                //trace("onload: " + src);
                def.resolve();
            }
            // script.src = baseurl + src;
            script.src = src;
            head.appendChild(script);
            return def.promise();
        }

        window.visir = window.visir || {};
        window.visir.BaseLocation = "static/visir/";
        window.endpointBase = "does.not.exist/";
        window.imageBase = "static/resources/images/";
        window.numberOfSwitches = 0;

    </script>
</body>
</html>